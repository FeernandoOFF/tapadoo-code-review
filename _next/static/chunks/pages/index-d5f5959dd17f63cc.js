(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3685:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(3345)}])},3345:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return E}});var o=e(5893),i=e(7294),r=e(9008),a=e(1190),c=e(7160),u=e.n(c),s=e(4051),l=e.n(s);function v(n,t,e,o,i,r,a){try{var c=n[r](a),u=c.value}catch(s){return void e(s)}c.done?t(u):Promise.resolve(u).then(o,i)}function _(n){return function(){var t=this,e=arguments;return new Promise((function(o,i){var r=n.apply(t,e);function a(n){v(r,o,i,a,c,"next",n)}function c(n){v(r,o,i,a,c,"throw",n)}a(void 0)}))}}var f="http://private-anon-8b5df47dc0-tpbookserver.apiary-mock.com/books",d="https://www.googleapis.com/books/v1/volumes?q=isbn:";function m(){return(m=_(l().mark((function n(){var t,e,o,i,r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(f);case 2:return t=n.sent,n.next=5,t.json();case 5:return t=n.sent,e=t.map((function(n){var t=n.isbn.replace(/-/g,"");return fetch(d+t)})),n.next=9,Promise.all(e);case 9:return o=n.sent,n.next=12,Promise.all(o.map((function(n){return n.json()})));case 12:return i=n.sent,r=i.map((function(n){if(n.items){var t=n.items[0].volumeInfo;if(!t.title)return;return t}})),n.abrupt("return",r);case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var p=e(8098),h=e.n(p);var x=function(n){var t=n.book;return t?(0,o.jsxs)("div",{className:h().container,children:[(0,o.jsxs)("h3",{children:[t.title," "]}),(0,o.jsxs)("h5",{className:h().subtitle,children:[t.authors[0]," "]}),(0,o.jsx)("div",{className:h().descriptionContainer,children:t.description})]}):null},b=e(6580),k=e(3334),j=e.n(k),C={visible:{opacity:1,x:0},hidden:{opacity:0,x:-1e3},exit:{x:-1e3}};var B=function(n){n.children;var t,e=n.book,i=n.active,r=n.paginate;return(null===e||void 0===e?void 0:e.title)&&i?(0,o.jsx)(b.E.div,{className:"".concat(j().container," ").concat(i?j().containerActive:""),variants:C,animate:"visible",exit:"exit",initial:"hidden",dragConstraints:{right:100,left:100},drag:"x",onDragEnd:function(n,t){var e=t.offset,o=t.velocity,i=function(n,t){return Math.abs(n)*t}(e.x,o.x);i<-1e4?r(1):i>1e4&&r(0)},children:(0,o.jsx)("img",{src:null===e||void 0===e||null===(t=e.imageLinks)||void 0===t?void 0:t.thumbnail,alt:"",className:"".concat(j().bookImage," ").concat(i?j().bookImageActive:"")})}):null},g=e(9909),w=e.n(g);var N=function(n){var t=n.book;return t?(0,o.jsxs)("div",{className:w().mainMenu,children:[(0,o.jsx)("a",{href:t.previewLink,className:"".concat(w().button," ").concat(w().whiteButton),children:"Sample"}),(0,o.jsx)("button",{className:w().button,children:"Buy Now"})]}):null};function E(){var n=(0,i.useState)([]),t=n[0],e=n[1],c=(0,i.useState)(0),s=c[0],l=c[1],v=function(){(function(){return m.apply(this,arguments)})().then((function(n){var t=n.filter((function(n){return(null===n||void 0===n?void 0:n.title)?n:null}));e(t)}))},_=function(n){1===n&&s<t.length-1&&l(++s),0===n&&s>0&&l(--s)};return(0,i.useEffect)((function(){v()}),[]),(0,o.jsxs)("div",{className:u().container,children:[(0,o.jsx)(r.default,{children:(0,o.jsx)("title",{children:"Tapadoo Books | Fernando Obregon"})}),(0,o.jsx)("h1",{className:u().title,children:"Tapadoo Books"}),(0,o.jsxs)("div",{className:u().bookContainer,children:[(0,o.jsx)("div",{className:u().prevButton,onClick:function(){return _(0)},children:"<"}),(0,o.jsx)("div",{className:u().nextButton,onClick:function(){return _(1)},children:">"}),(0,o.jsx)(a.M,{initial:!1,children:null===t||void 0===t?void 0:t.map((function(n,t){return(0,o.jsx)(B,{book:n,active:t===s,paginate:_},t)}))})]}),(0,o.jsx)(x,{book:t.find((function(n,t){return t===s}))}),(0,o.jsx)(N,{book:t.find((function(n,t){return t===s}))})]})}},3334:function(n){n.exports={containerActive:"BookComponent_containerActive__Ovc1h",container:"BookComponent_container__Okqw3",bookPrice:"BookComponent_bookPrice___vPZi",bookImage:"BookComponent_bookImage__SynGo",bookImageActive:"BookComponent_bookImageActive__DqE8_"}},9909:function(n){n.exports={mainMenu:"BottomMenu_mainMenu__C_Uq6",button:"BottomMenu_button__rJAl9",whiteButton:"BottomMenu_whiteButton__jQxEH"}},8098:function(n){n.exports={container:"InfoComponent_container__EaiJS",descriptionContainer:"InfoComponent_descriptionContainer__Yo5zi",subtitle:"InfoComponent_subtitle__jl_ki"}},7160:function(n){n.exports={container:"Home_container__bCOhY",bookContainer:"Home_bookContainer__oIRZu",title:"Home_title__T09hD",prevButton:"Home_prevButton__eKmuj",nextButton:"Home_nextButton__cuMix"}}},function(n){n.O(0,[738,774,888,179],(function(){return t=3685,n(n.s=t);var t}));var t=n.O();_N_E=t}]);