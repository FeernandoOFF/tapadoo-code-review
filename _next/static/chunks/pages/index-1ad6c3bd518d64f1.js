(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3685:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1649)}])},1649:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return I}});var o=t(5893),i=t(7294),r=t(9008),a=t(1190),c=t(6580),s=t(8193),l=t(7160),u=t.n(l),d=t(4051),_=t.n(d);function v(n,e,t,o,i,r,a){try{var c=n[r](a),s=c.value}catch(l){return void t(l)}c.done?e(s):Promise.resolve(s).then(o,i)}function f(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function a(n){v(r,o,i,a,c,"next",n)}function c(n){v(r,o,i,a,c,"throw",n)}a(void 0)}))}}var m,h="https://private-anon-8b5df47dc0-tpbookserver.apiary-mock.com/books",p="https://www.googleapis.com/books/v1/volumes?q=isbn:";function x(){return(x=f(_().mark((function n(){var e,t,o,i;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(h);case 2:return m=n.sent,n.next=5,m.json();case 5:return m=n.sent,e=m.map((function(n){var e=n.isbn.replace(/-/g,"");return fetch(p+e)})),n.next=9,Promise.all(e);case 9:return t=n.sent,n.next=12,Promise.all(t.map((function(n){return n.json()})));case 12:return o=n.sent,i=o.map((function(n){if(n.items){var e=n.items[0].volumeInfo;if(!e.title)return;return e}})),n.abrupt("return",i);case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var k=t(8098),b=t.n(k);var j=function(n){var e=n.book;return e?(0,o.jsxs)("div",{className:b().container,children:[(0,o.jsxs)("h3",{style:{padding:"10px 30px"},children:[e.title," "]}),(0,o.jsxs)("h5",{className:b().subtitle,children:[e.authors[0]," "]}),(0,o.jsx)("div",{className:b().descriptionContainer,children:e.description})]}):null},g=t(3334),C=t.n(g),N={visible:{opacity:1,x:0},hidden:{opacity:0},exit:{opacity:0}};var y=function(n){n.children;var e,t=n.book,i=n.active,r=n.paginate;return(null===t||void 0===t?void 0:t.title)&&i?(0,o.jsx)(c.E.div,{className:"".concat(C().container," ").concat(i?C().containerActive:""),variants:N,animate:"visible",exit:"exit",initial:"hidden",dragConstraints:{right:100,left:100},drag:"x",onDragEnd:function(n,e){var t=e.offset,o=e.velocity,i=function(n,e){return Math.abs(n)*e}(t.x,o.x);i<-1e4?r(1):i>1e4&&r(0)},children:(0,o.jsx)("img",{src:null===t||void 0===t||null===(e=t.imageLinks)||void 0===e?void 0:e.thumbnail,alt:"",className:"".concat(C().bookImage," ").concat(i?C().bookImageActive:"")})}):null};var w=t(7130),E=t.n(w);var M=function(){return(0,o.jsxs)("header",{className:E().header,children:[(0,o.jsx)("div",{className:E().leftMenu,children:(0,o.jsx)(s.qTj,{})}),(0,o.jsxs)("div",{className:E().rightMenu,children:[(0,o.jsx)(s.X6i,{}),(0,o.jsx)("div",{className:E().avatar})]})]})},A=t(5349),B=t.n(A);function H(n){var e=n.book,t=n.setActive;return console.log(e),(0,o.jsx)(c.E.div,{className:B().background,initial:{opacity:0},animate:{opacity:1},onClick:function(){return t(!1)},children:(0,o.jsxs)(c.E.div,{initial:{y:1e3},animate:{y:0},className:B().modal,children:[(0,o.jsxs)("h2",{children:[" ",e.title," "]}),(0,o.jsx)("div",{style:{display:"flex",color:"#535353"},children:e.authors.map((function(n){return(0,o.jsx)("p",{style:{marginRight:20},children:n},n)}))}),(0,o.jsxs)("p",{children:[" ",e.description," "]})]})})}function I(){var n=(0,i.useState)([]),e=n[0],t=n[1],l=(0,i.useState)(0),d=l[0],_=l[1],v=(0,i.useState)(null),f=v[0],m=v[1],h=(0,i.useState)(!1),p=h[0],k=h[1],b=function(){(function(){return x.apply(this,arguments)})().then((function(n){var e=n.filter((function(n){return(null===n||void 0===n?void 0:n.title)?n:null}));t(e)}))},g=function(n){1===n&&d<e.length-1&&_(++d),0===n&&d>0&&_(--d)};return(0,i.useEffect)((function(){b()}),[]),(0,i.useEffect)((function(){d&&e&&m(e.find((function(n,e){return e===d})))}),[d,e]),(0,o.jsxs)("div",{className:u().container,children:[(0,o.jsx)(r.default,{children:(0,o.jsx)("title",{children:"Tapadoo Books | Fernando Obregon"})}),(0,o.jsx)(M,{}),(0,o.jsxs)("div",{className:u().bookContainer,children:[(0,o.jsx)(P,{className:u().prevButton,onClick:function(){return g(0)},disabled:0===d,children:(0,o.jsx)(s.kyg,{})}),(0,o.jsx)(P,{className:u().nextButton,onClick:function(){return g(1)},disabled:e.length-1===d,children:(0,o.jsx)(s.mGl,{})}),(0,o.jsx)(a.M,{initial:!1,children:null===e||void 0===e?void 0:e.map((function(n,e){return(0,o.jsx)(y,{book:n,active:e===d,paginate:g},e)}))})]}),(0,o.jsx)(j,{book:e.find((function(n,e){return e===d}))}),(0,o.jsxs)(c.E.div,{whileHover:{y:-20},className:u().seeMore,onClick:function(){return k(!0)},children:[(0,o.jsx)(s.y1n,{}),(0,o.jsx)("p",{children:"See More"})]}),p&&(0,o.jsx)(H,{setActive:k,book:f})]})}function P(n){var e=n.children,t=n.onClick,i=n.className,r=n.disabled;return(0,o.jsx)(c.E.div,{whileTap:{scale:.8},className:"".concat(i," ").concat(r?u().disabledArrow:""),onClick:t,children:e})}},3334:function(n){n.exports={containerActive:"BookComponent_containerActive__Ovc1h",container:"BookComponent_container__Okqw3",bookPrice:"BookComponent_bookPrice___vPZi",bookImage:"BookComponent_bookImage__SynGo",bookImageActive:"BookComponent_bookImageActive__DqE8_"}},7130:function(n){n.exports={header:"Header_header__pUpk9",leftMenu:"Header_leftMenu___CCYp",rightMenu:"Header_rightMenu__a_GAy",avatar:"Header_avatar__WrtJ1"}},8098:function(n){n.exports={container:"InfoComponent_container__EaiJS",descriptionContainer:"InfoComponent_descriptionContainer__Yo5zi",subtitle:"InfoComponent_subtitle__jl_ki"}},5349:function(n){n.exports={background:"Modal_background__GWcDv",modal:"Modal_modal__uiOY0"}},7160:function(n){n.exports={container:"Home_container__bCOhY",bookContainer:"Home_bookContainer__oIRZu",title:"Home_title__T09hD",prevButton:"Home_prevButton__eKmuj",nextButton:"Home_nextButton__cuMix",disabledArrow:"Home_disabledArrow__7kQni",seeMore:"Home_seeMore__p3kc5"}}},function(n){n.O(0,[617,678,774,888,179],(function(){return e=3685,n(n.s=e);var e}));var e=n.O();_N_E=e}]);